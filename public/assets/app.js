angular.module("app",["ngRoute","ui.router","tc.chartjs","ui.bootstrap"]),angular.module("app").controller("ErrorCtrl",["$scope","$rootScope",function(e,o){e.hello="this is from the controller hello",console.log(e.hello)}]),angular.module("app").controller("HomeCtrl",["$scope","$http",function(e,o){e.model="",e.setup=function(){o.get("/api/companies/count").then(function(o){e.model.companies=o.data},function(e){console.log(e)}),o.get("/api/stockists/count").then(function(o){e.model.stockists=o.data},function(e){console.log(e)}),o.get("/api/employees/count").then(function(o){e.model.employees=o.data},function(e){console.log(e)})},e.setup(),e.data=[{value:50,color:"#F7464A",highlight:"#FF5A5E",label:"Companies"},{value:20,color:"#46BFBD",highlight:"#5AD3D1",label:"Stockists"},{value:6,color:"#FFFF00",highlight:"#e5e500",label:"Employees"}],e.options={responsive:!0,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="tc-chart-js-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'}}]),angular.module("app").controller("LoginCtrl",["$scope","UserSvc","$location",function(e,o,t){e.login=function(n,l){o.login(n,l).then(function(o){console.log("printing response"),console.log(o.data),e.$emit("login",o.data),t.path("/home")})}}]),angular.module("app").controller("masterCtrl",["$scope","$rootScope","$route",function(e,o,t){console.log("masterCtrl"),e.$on("login",function(t,n){console.log("Logged In"),e.currentUser=n,o.currentUser=n,localStorage.setItem("logged_user",o.currentUser.username)})}]),angular.module("app").controller("PostsCtrl",["$scope","PostsSvc",function(e,o){o.fetch().success(function(o){e.posts=o}),e.addPost=function(){e.postBody&&o.create({body:e.postBody}).success(function(o){e.postBody=null})},e.$on("ws:new_post",function(o,t){e.$apply(function(){e.posts.unshift(t)})})}]),angular.module("app").service("PostsSvc",["$http",function(e){this.fetch=function(){return e.get("/api/posts")},this.create=function(o){return e.post("/api/posts",o)}}]),angular.module("app").controller("RegisterCtrl",["$scope","UserSvc","$location",function(e,o,t){e.register=function(n,l,c){o.register(n,l,c).then(function(o){e.$emit("login",o.data),t.path("/home")})["catch"](function(e){console.log(e)})}}]),angular.module("app").service("segment",["$http","$window","$location",function(e,o,t){return{getData:function(e,o){return console.log("here"),2}}}]),angular.module("app").config(["$stateProvider","$urlRouterProvider","$locationProvider",function(e,o,t){o.otherwise("/"),e.state("app",{url:"/",views:{header:{templateUrl:"/nav.html"},content:{templateUrl:"/login.html",controller:"LoginCtrl"}}}).state("app.login",{url:"login",views:{header:{templateUrl:"/nav.html"},content:{templateUrl:"/login.html",controller:"LoginCtrl"}}}).state("app.register",{url:"register",views:{"content@":{templateUrl:"register.html",controller:"RegisterCtrl"}}}).state("app.home",{url:"home",views:{"content@":{templateUrl:"users/home.html",controller:"HomeCtrl"}}}).state("app.home.vehicles",{url:"/vehicles/new",views:{"content@":{templateUrl:"vehicles/newVehicle.html",controller:"VehiclesNewInfoCtrl"}}}).state("app.products",{url:"products",views:{"content@":{templateUrl:"products/products.html",controller:"productsCtrl"}}}).state("app.products.new",{url:"/new",views:{"content@":{templateUrl:"products/newProduct.html",controller:"newProductCtrl"}}}).state("app.products.details",{url:"/:id",views:{"content@":{templateUrl:"products/editProduct.html",controller:"editProductCtrl"}}}).state("app.companies",{url:"resources/companies",views:{"content@":{templateUrl:"resources/companies.html",controller:"companiesCtrl"}}}).state("app.companies.new",{url:"/new",views:{"content@":{templateUrl:"resources/newCompany.html",controller:"newCompanyCtrl"}}}).state("app.companies.details",{url:"/:id",views:{"content@":{templateUrl:"resources/editCompany.html",controller:"editCompanyCtrl"}}}).state("app.stockists",{url:"resources/stockists",views:{"content@":{templateUrl:"resources/stockists.html",controller:"stockistsCtrl"}}}).state("app.stockists.new",{url:"/new",views:{"content@":{templateUrl:"resources/newStockist.html",controller:"newStockistCtrl"}}}).state("app.employees",{url:"resources/employees",views:{"content@":{templateUrl:"resources/employees.html",controller:"employeesCtrl"}}}).state("app.employees.new",{url:"/new",views:{"content@":{templateUrl:"resources/newEmployee.html",controller:"newEmployeeCtrl"}}}).state("app.invoiceentry",{url:"sales/invoice-entry",views:{"content@":{templateUrl:"sales/invoiceEntry.html",controller:"invoiceEntryCtrl"}}}).state("app.billheader",{url:"sales/billheader",views:{"content@":{templateUrl:"sales/billHeader.html"}}}).state("app.salesreturn",{url:"sales/sales-return",views:{"content@":{templateUrl:"sales/salesReturn.html"}}}).state("app.purchaseentry",{url:"sales/purchase-entry",views:{"content@":{templateUrl:"purchase/purchaseEntry.html"}}}).state("app.settings",{url:"about",views:{"content@":{templateUrl:"settings/about.html",controller:"HomeCtrl"}}}),t.html5Mode(!0)}]),angular.module("app").service("UserSvc",["$http","$window","$location",function(e,o,t){var n=this;n.getUser=function(){return e.get("api/users")},n.login=function(l,c){return e.post("api/sessions",{username:l,password:c}).then(function(t){return n.token=t.data,o.sessionStorage.user_token=JSON.stringify(n.token),localStorage.setItem("user_token",JSON.stringify(n.token)),e.defaults.headers.common["x-auth"]=t.data,n.getUser()})["catch"](function(e){console.error("Gists error",e.status,e.data),t.path("/401")})["finally"](function(){console.log("finally finished gists")})},n.register=function(o,t,l){return e.post("api/users",{name:o,username:t,password:l}).then(function(e){return n.login(t,l)})}}]),angular.module("app").controller("companiesCtrl",["$scope","$http",function(e,o){e.setup=function(){o.get("/api/companies").then(function(o){e.model=o.data},function(e){})},e.setup(),e.deleteCompany=function(t){confirm("Are you sure?")&&o["delete"]("/api/companies/"+t).then(function(o){console.log(o),e.setup()},function(e){console.log(e)})}}]),angular.module("app").controller("editCompanyCtrl",["$scope","$http","$location","$stateParams",function(e,o,t,n){e.setup=function(){console.log(n),o.get("/api/companies/"+n.id).then(function(o){e.model=o.data,console.log(e.model)},function(e){console.log(e)})},e.updateCompanyDetails=function(){o.put("/api/companies/"+n.id,{company_code:e.model.company_code,company_name:e.model.company_name,company_areacode:e.model.company_areacode,company_address:e.model.company_address,company_openingbalance:e.model.company_openingbalance,company_bstcode:e.model.company_bstcode}).then(function(e){console.log(e)},function(e){console.log(e)})},e.setup()}]),angular.module("app").controller("employeesCtrl",["$scope","$http",function(e,o){e.setup=function(){o.get("/api/employees").then(function(o){e.model=o.data},function(e){})},e.setup()}]),angular.module("app").controller("newCompanyCtrl",["$scope","$http","$location",function(e,o,t){e.saveCompanyDetails=function(){console.log("Here in the company controller"),o.post("/api/companies",{company_code:e.company_code,company_name:e.company_name,company_areacode:e.company_areacode,company_address:e.company_address,company_openingbalance:e.company_openingbalance,company_bstcode:e.company_bstcode}).then(function(e){console.log(e),t.path("/resources/companies")},function(e){console.log(e)})}}]),angular.module("app").controller("newEmployeeCtrl",["$scope","$http","$location",function(e,o,t){e.saveEmployeeDetails=function(){console.log("Here in the Employee controller"),console.log(e.employee_code),o.post("/api/employees",{employee_code:e.employee_code,employee_name:e.employee_name,employee_areacode:e.employee_areacode,employee_address:e.employee_address,employee_openingbalance:e.employee_openingbalance,employee_bstcode:e.employee_bstcode}).then(function(e){console.log(e),t.path("/resources/employees")},function(e){console.log(e)})}}]),angular.module("app").controller("newStockistCtrl",["$scope","$http","$location",function(e,o,t){e.saveStockistDetails=function(){console.log("Here in the Stockist controller"),console.log(e.stockist_code),o.post("/api/stockists",{stockist_code:e.stockist_code,stockist_name:e.stockist_name,stockist_areacode:e.stockist_areacode,stockist_address:e.stockist_address,stockist_openingbalance:e.stockist_openingbalance,stockist_bstcode:e.stockist_bstcode}).then(function(e){console.log(e),t.path("/resources/stockists")},function(e){console.log(e)})}}]),angular.module("app").controller("stockistsCtrl",["$scope","$http",function(e,o){e.setup=function(){o.get("/api/stockists").then(function(o){e.model=o.data},function(e){})},e.setup()}]),angular.module("app").controller("VehiclesEditInfoCtrl",["$scope","$http","$location","$stateParams",function(e,o,t,n){e.setup=function(){console.log(n),o.get("/api/vehicle/"+n.id).then(function(o){e.model=o.data,console.log(e.model)},function(e){console.log(e)})},e.setup()}]),angular.module("app").controller("editProductCtrl",["$scope","$http","$location","$stateParams",function(e,o,t,n){e.setup=function(){console.log(n),o.get("/api/products/"+n.id).then(function(o){e.model=o.data,console.log(e.model)},function(e){console.log(e)})},e.updateProductDetails=function(){o.put("/api/products/"+n.id,{product_code:e.model.product_code,product_name:e.model.product_name,product_areacode:e.model.product_areacode,product_address:e.model.product_address,product_openingbalance:e.model.product_openingbalance,product_bstcode:e.model.product_bstcode}).then(function(e){console.log(e)},function(e){console.log(e)})},e.setup()}]),angular.module("app").controller("newProductCtrl",["$scope","$http","$location",function(e,o,t){e.saveProductDetails=function(){console.log("Here in the product controller"),o.post("/api/products",{product_code:e.product_code,product_name:e.product_name,product_packing:e.product_packing,product_company:e.product_company,product_salestax:e.product_salestax,product_discount:e.product_discount,product_boxsize:e.product_boxsize,product_purchase:e.product_purchase,product_mrp:e.product_mrp}).then(function(e){console.log(e),t.path("/products")},function(e){console.log(e)})},e.availableCompanies=function(){o.get("/api/companies").then(function(o){e.companies=_.map(o.data,function(e){return{name:e.company_name,address:e.company_address}}),console.log(e.companies)},function(e){console.log(e)})},e.setup=function(){e.availableCompanies()},e.setup()}]),angular.module("app").controller("productsCtrl",["$scope","$http",function(e,o){e.loading=!0,e.setup=function(){o.get("/api/products").then(function(o){e.model=o.data,e.loading=!1},function(e){})},e.setup()}]),angular.module("app").controller("VehiclesNewInfoCtrl",["$scope","$http","$location",function(e,o,t){e.saveVehicleDetails=function(){console.log("in controller 2"),console.log(e.dev_id+e.v_number),o.post("/api/vehicle",{dev_id:e.dev_id,v_number:e.v_number,driver_name:e.driver_name,sos_number:e.sos_number}).then(function(e){console.log(e),t.path("/home")},function(e){console.log(e)})}}]),angular.module("app").controller("invoiceEntryCtrl",["$scope","$http",function(e,o){e.model={},e.availableProducts=function(){o.get("/api/products").then(function(o){e.model.products=_.map(o.data,function(e){return{name:e.product_name,code:e.product_code}})},function(e){console.log(e)})},e.availableCompanies=function(){o.get("/api/companies").then(function(o){e.model.companies=_.map(o.data,function(e){return{name:e.company_name,address:e.company_address}}),console.log(e.model.companies)},function(e){console.log(e)})},e.setup=function(){e.availableProducts(),e.availableCompanies()},e.setup()}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsImVycm9yLmN0cmwuanMiLCJob21lQ3RybC5qcyIsImxvZ2luLmN0cmwuanMiLCJtYXN0ZXJDdHJsLmpzIiwicG9zdHMuY3RybC5qcyIsInBvc3RzLnN2Yy5qcyIsInJlZ2lzdGVyLmN0cmwuanMiLCJyb3V0ZVNlZ21lbnQuanMiLCJyb3V0ZXMuanMiLCJ1c2VyLnN2Yy5qcyIsInJlc291cmNlcy9jb21wYW5pZXNDdHJsLmpzIiwicmVzb3VyY2VzL2VkaXRDb21wYW55Q3RybC5qcyIsInJlc291cmNlcy9lbXBsb3llZXNDdHJsLmpzIiwicmVzb3VyY2VzL25ld0NvbXBhbnlDdHJsLmpzIiwicmVzb3VyY2VzL25ld0VtcGxveWVlQ3RybC5qcyIsInJlc291cmNlcy9uZXdTdG9ja2lzdEN0cmwuanMiLCJyZXNvdXJjZXMvc3RvY2tpc3RzQ3RybC5qcyIsInZlaGljbGVzL2VkaXQvaW5mby5qcyIsInByb2R1Y3RzL2VkaXRQcm9kdWN0Q3RybC5qcyIsInByb2R1Y3RzL25ld1Byb2R1Y3RDdHJsLmpzIiwicHJvZHVjdHMvcHJvZHVjdHNDdHJsLmpzIiwidmVoaWNsZXMvbmV3L2luZm8uanMiLCJzYWxlcy9pbnZvaWNlRW50cnlDdHJsLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJjb250cm9sbGVyIiwiJHNjb3BlIiwiJHJvb3RTY29wZSIsImhlbGxvIiwiY29uc29sZSIsImxvZyIsIiRodHRwIiwibW9kZWwiLCJzZXR1cCIsImdldCIsInRoZW4iLCJyZXNwb25zZSIsImNvbXBhbmllcyIsImRhdGEiLCJlcnIiLCJzdG9ja2lzdHMiLCJlbXBsb3llZXMiLCJ2YWx1ZSIsImNvbG9yIiwiaGlnaGxpZ2h0IiwibGFiZWwiLCJvcHRpb25zIiwicmVzcG9uc2l2ZSIsInNlZ21lbnRTaG93U3Ryb2tlIiwic2VnbWVudFN0cm9rZUNvbG9yIiwic2VnbWVudFN0cm9rZVdpZHRoIiwicGVyY2VudGFnZUlubmVyQ3V0b3V0IiwiYW5pbWF0aW9uU3RlcHMiLCJhbmltYXRpb25FYXNpbmciLCJhbmltYXRlUm90YXRlIiwiYW5pbWF0ZVNjYWxlIiwibGVnZW5kVGVtcGxhdGUiLCJVc2VyU3ZjIiwiJGxvY2F0aW9uIiwibG9naW4iLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwiJGVtaXQiLCJwYXRoIiwiJHJvdXRlIiwiJG9uIiwiXyIsInVzZXIiLCJjdXJyZW50VXNlciIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJQb3N0c1N2YyIsImZldGNoIiwic3VjY2VzcyIsInBvc3RzIiwiYWRkUG9zdCIsInBvc3RCb2R5IiwiY3JlYXRlIiwiYm9keSIsInBvc3QiLCIkYXBwbHkiLCJ1bnNoaWZ0Iiwic2VydmljZSIsInRoaXMiLCJyZWdpc3RlciIsIm5hbWUiLCIkd2luZG93IiwiZ2V0RGF0YSIsIiRxIiwiY29uZmlnIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCIkbG9jYXRpb25Qcm92aWRlciIsIm90aGVyd2lzZSIsInN0YXRlIiwidXJsIiwidmlld3MiLCJoZWFkZXIiLCJ0ZW1wbGF0ZVVybCIsImNvbnRlbnQiLCJjb250ZW50QCIsImh0bWw1TW9kZSIsInN2YyIsImdldFVzZXIiLCJ2YWwiLCJ0b2tlbiIsInNlc3Npb25TdG9yYWdlIiwiSlNPTiIsInN0cmluZ2lmeSIsImRlZmF1bHRzIiwiaGVhZGVycyIsImNvbW1vbiIsImVycm9yIiwic3RhdHVzIiwiZGVsZXRlQ29tcGFueSIsImNvbXBhbnlfaWQiLCJjb25maXJtIiwiJHN0YXRlUGFyYW1zIiwiaWQiLCJ1cGRhdGVDb21wYW55RGV0YWlscyIsInB1dCIsImNvbXBhbnlfY29kZSIsImNvbXBhbnlfbmFtZSIsImNvbXBhbnlfYXJlYWNvZGUiLCJjb21wYW55X2FkZHJlc3MiLCJjb21wYW55X29wZW5pbmdiYWxhbmNlIiwiY29tcGFueV9ic3Rjb2RlIiwic2F2ZUNvbXBhbnlEZXRhaWxzIiwic2F2ZUVtcGxveWVlRGV0YWlscyIsImVtcGxveWVlX2NvZGUiLCJlbXBsb3llZV9uYW1lIiwiZW1wbG95ZWVfYXJlYWNvZGUiLCJlbXBsb3llZV9hZGRyZXNzIiwiZW1wbG95ZWVfb3BlbmluZ2JhbGFuY2UiLCJlbXBsb3llZV9ic3Rjb2RlIiwic2F2ZVN0b2NraXN0RGV0YWlscyIsInN0b2NraXN0X2NvZGUiLCJzdG9ja2lzdF9uYW1lIiwic3RvY2tpc3RfYXJlYWNvZGUiLCJzdG9ja2lzdF9hZGRyZXNzIiwic3RvY2tpc3Rfb3BlbmluZ2JhbGFuY2UiLCJzdG9ja2lzdF9ic3Rjb2RlIiwidXBkYXRlUHJvZHVjdERldGFpbHMiLCJwcm9kdWN0X2NvZGUiLCJwcm9kdWN0X25hbWUiLCJwcm9kdWN0X2FyZWFjb2RlIiwicHJvZHVjdF9hZGRyZXNzIiwicHJvZHVjdF9vcGVuaW5nYmFsYW5jZSIsInByb2R1Y3RfYnN0Y29kZSIsInNhdmVQcm9kdWN0RGV0YWlscyIsInByb2R1Y3RfcGFja2luZyIsInByb2R1Y3RfY29tcGFueSIsInByb2R1Y3Rfc2FsZXN0YXgiLCJwcm9kdWN0X2Rpc2NvdW50IiwicHJvZHVjdF9ib3hzaXplIiwicHJvZHVjdF9wdXJjaGFzZSIsInByb2R1Y3RfbXJwIiwiYXZhaWxhYmxlQ29tcGFuaWVzIiwibWFwIiwib2JqIiwiYWRkcmVzcyIsImxvYWRpbmciLCJzYXZlVmVoaWNsZURldGFpbHMiLCJkZXZfaWQiLCJ2X251bWJlciIsImRyaXZlcl9uYW1lIiwic29zX251bWJlciIsImF2YWlsYWJsZVByb2R1Y3RzIiwicHJvZHVjdHMiLCJjb2RlIl0sIm1hcHBpbmdzIjoiQUFBQUEsUUFBQUMsT0FBQSxPQUNBLFVBQUEsWUFBQSxhQUFBLGlCQ0RBRCxRQUFBQyxPQUFBLE9BQ0FDLFdBQUEsYUFBQSxTQUFBLGFBQUEsU0FBQUMsRUFBQUMsR0FDQUQsRUFBQUUsTUFBQSxvQ0FDQUMsUUFBQUMsSUFBQUosRUFBQUUsVUNIQUwsUUFBQUMsT0FBQSxPQUNBQyxXQUFBLFlBQUEsU0FBQSxRQUFBLFNBQUFDLEVBQUFLLEdBQ0FMLEVBQUFNLE1BQUEsR0FFQU4sRUFB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QUFBRyxJQUFBLGlCQUNBQyxLQUFBLFNBQUFDLEdBQ0FWLEVBQUFNLE1BQUF3SSxTQUFBdEcsRUFBQTRGLElBQUExSCxFQUFBRSxLQUFBLFNBQUF5SCxHQUNBLE9BQ0ExRSxLQUFBMEUsRUFBQWYsYUFDQXlCLEtBQUFWLEVBQUFoQixpQkFLQSxTQUFBeEcsR0FDQVYsUUFBQUMsSUFBQVMsTUFPQWIsRUFBQW1JLG1CQUFBLFdBQ0E5SCxFQUFBRyxJQUFBLGtCQUNBQyxLQUFBLFNBQUFDLEdBQ0FWLEVBQUFNLE1BQUFLLFVBQUE2QixFQUFBNEYsSUFBQTFILEVBQUFFLEtBQUEsU0FBQXlILEdBQ0EsT0FDQTFFLEtBQUEwRSxFQUFBckMsYUFDQXNDLFFBQUFELEVBQUFuQyxtQkFJQS9GLFFBQUFDLElBQUFKLEVBQUFNLE1BQUFLLFlBRUEsU0FBQUUsR0FDQVYsUUFBQUMsSUFBQVMsTUFPQWIsRUFBQU8sTUFBQSxXQUNBUCxFQUFBNkksb0JBQ0E3SSxFQUFBbUksc0JBR0FuSSxFQUFBTyIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJhbmd1bGFyLm1vZHVsZSgnYXBwJyxbXG4nbmdSb3V0ZScsJ3VpLnJvdXRlcicsJ3RjLmNoYXJ0anMnLCd1aS5ib290c3RyYXAnXG5dKSIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuICAgIC5jb250cm9sbGVyKCdFcnJvckN0cmwnLCBmdW5jdGlvbigkc2NvcGUsICRyb290U2NvcGUpIHtcbiAgICAgICAgJHNjb3BlLmhlbGxvID0gXCJ0aGlzIGlzIGZyb20gdGhlIGNvbnRyb2xsZXIgaGVsbG9cIlxuICAgICAgICBjb25zb2xlLmxvZygkc2NvcGUuaGVsbG8pXG5cblxuXG4gICAgfSlcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuICAgIC5jb250cm9sbGVyKCdIb21lQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgJGh0dHApIHtcbiAgICAgICAgJHNjb3BlLm1vZGVsID0gXCJcIjtcblxuICAgICAgICAkc2NvcGUuc2V0dXAgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgJGh0dHAuZ2V0KCcvYXBpL2NvbXBhbmllcy9jb3VudCcpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1vZGVsLmNvbXBhbmllcyA9IHJlc3BvbnNlLmRhdGE7XG5cbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkaHR0cC5nZXQoJy9hcGkvc3RvY2tpc3RzL2NvdW50JylcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubW9kZWwuc3RvY2tpc3RzID0gcmVzcG9uc2UuZGF0YTtcblxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICRodHRwLmdldCgnL2FwaS9lbXBsb3llZXMvY291bnQnKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5tb2RlbC5lbXBsb3llZXMgPSByZXNwb25zZS5kYXRhO1xuXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycilcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICB9XG5cbiAgICAgICAgJHNjb3BlLnNldHVwKCk7XG5cblxuICAgICAgICAkc2NvcGUuZGF0YSA9IFt7XG4gICAgICAgICAgICB2YWx1ZTogNTAsXG4gICAgICAgICAgICBjb2xvcjogJyNGNzQ2NEEnLFxuICAgICAgICAgICAgaGlnaGxpZ2h0OiAnI0ZGNUE1RScsXG4gICAgICAgICAgICBsYWJlbDogJ0NvbXBhbmllcydcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgdmFsdWU6IDIwLFxuICAgICAgICAgICAgY29sb3I6ICcjNDZCRkJEJyxcbiAgICAgICAgICAgIGhpZ2hsaWdodDogJyM1QUQzRDEnLFxuICAgICAgICAgICAgbGFiZWw6ICdTdG9ja2lzdHMnXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHZhbHVlOiA2LFxuICAgICAgICAgICAgY29sb3I6ICcjRkZGRjAwJyxcbiAgICAgICAgICAgIGhpZ2hsaWdodDogJyNlNWU1MDAnLFxuICAgICAgICAgICAgbGFiZWw6ICdFbXBsb3llZXMnXG4gICAgICAgIH1dO1xuXG4gICAgICAgIC8vIENoYXJ0LmpzIE9wdGlvbnNcbiAgICAgICAgJHNjb3BlLm9wdGlvbnMgPSB7XG5cbiAgICAgICAgICAgIC8vIFNldHMgdGhlIGNoYXJ0IHRvIGJlIHJlc3BvbnNpdmVcbiAgICAgICAgICAgIHJlc3BvbnNpdmU6IHRydWUsXG5cbiAgICAgICAgICAgIC8vQm9vbGVhbiAtIFdoZXRoZXIgd2Ugc2hvdWxkIHNob3cgYSBzdHJva2Ugb24gZWFjaCBzZWdtZW50XG4gICAgICAgICAgICBzZWdtZW50U2hvd1N0cm9rZTogdHJ1ZSxcblxuICAgICAgICAgICAgLy9TdHJpbmcgLSBUaGUgY29sb3VyIG9mIGVhY2ggc2VnbWVudCBzdHJva2VcbiAgICAgICAgICAgIHNlZ21lbnRTdHJva2VDb2xvcjogJyNmZmYnLFxuXG4gICAgICAgICAgICAvL051bWJlciAtIFRoZSB3aWR0aCBvZiBlYWNoIHNlZ21lbnQgc3Ryb2tlXG4gICAgICAgICAgICBzZWdtZW50U3Ryb2tlV2lkdGg6IDIsXG5cbiAgICAgICAgICAgIC8vTnVtYmVyIC0gVGhlIHBlcmNlbnRhZ2Ugb2YgdGhlIGNoYXJ0IHRoYXQgd2UgY3V0IG91dCBvZiB0aGUgbWlkZGxlXG4gICAgICAgICAgICBwZXJjZW50YWdlSW5uZXJDdXRvdXQ6IDUwLCAvLyBUaGlzIGlzIDAgZm9yIFBpZSBjaGFydHNcblxuICAgICAgICAgICAgLy9OdW1iZXIgLSBBbW91bnQgb2YgYW5pbWF0aW9uIHN0ZXBzXG4gICAgICAgICAgICBhbmltYXRpb25TdGVwczogMTAwLFxuXG4gICAgICAgICAgICAvL1N0cmluZyAtIEFuaW1hdGlvbiBlYXNpbmcgZWZmZWN0XG4gICAgICAgICAgICBhbmltYXRpb25FYXNpbmc6ICdlYXNlT3V0Qm91bmNlJyxcblxuICAgICAgICAgICAgLy9Cb29sZWFuIC0gV2hldGhlciB3ZSBhbmltYXRlIHRoZSByb3RhdGlvbiBvZiB0aGUgRG91Z2hudXRcbiAgICAgICAgICAgIGFuaW1hdGVSb3RhdGU6IHRydWUsXG5cbiAgICAgICAgICAgIC8vQm9vbGVhbiAtIFdoZXRoZXIgd2UgYW5pbWF0ZSBzY2FsaW5nIHRoZSBEb3VnaG51dCBmcm9tIHRoZSBjZW50cmVcbiAgICAgICAgICAgIGFuaW1hdGVTY2FsZTogZmFsc2UsXG5cbiAgICAgICAgICAgIC8vU3RyaW5nIC0gQSBsZWdlbmQgdGVtcGxhdGVcbiAgICAgICAgICAgIGxlZ2VuZFRlbXBsYXRlOiAnPHVsIGNsYXNzPVwidGMtY2hhcnQtanMtbGVnZW5kXCI+PCUgZm9yICh2YXIgaT0wOyBpPHNlZ21lbnRzLmxlbmd0aDsgaSsrKXslPjxsaT48c3BhbiBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6PCU9c2VnbWVudHNbaV0uZmlsbENvbG9yJT5cIj48L3NwYW4+PCVpZihzZWdtZW50c1tpXS5sYWJlbCl7JT48JT1zZWdtZW50c1tpXS5sYWJlbCU+PCV9JT48L2xpPjwlfSU+PC91bD4nXG5cbiAgICAgICAgfTtcblxuXG4gICAgfSlcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuICAgIC5jb250cm9sbGVyKCdMb2dpbkN0cmwnLCBmdW5jdGlvbigkc2NvcGUsIFVzZXJTdmMsICRsb2NhdGlvbikgeyAgICAgICAgXG4gICAgICAgICRzY29wZS5sb2dpbiA9IGZ1bmN0aW9uKHVzZXJuYW1lLCBwYXNzd29yZCkge1xuICAgICAgICAgICAgVXNlclN2Yy5sb2dpbih1c2VybmFtZSwgcGFzc3dvcmQpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJwcmludGluZyByZXNwb25zZVwiKVxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKVxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ2xvZ2luJywgcmVzcG9uc2UuZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9ob21lJylcblxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9KVxuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4gICAgLmNvbnRyb2xsZXIoJ21hc3RlckN0cmwnLCBmdW5jdGlvbigkc2NvcGUsICRyb290U2NvcGUsICRyb3V0ZSkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIm1hc3RlckN0cmxcIik7XG5cblxuICAgICAgICAkc2NvcGUuJG9uKCdsb2dpbicsIGZ1bmN0aW9uKF8sIHVzZXIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTG9nZ2VkIEluXCIpO1xuICAgICAgICAgICAgJHNjb3BlLmN1cnJlbnRVc2VyID0gdXNlclxuICAgICAgICAgICAgJHJvb3RTY29wZS5jdXJyZW50VXNlciA9IHVzZXIgICAgICAgICAgICBcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdsb2dnZWRfdXNlcicsICRyb290U2NvcGUuY3VycmVudFVzZXIudXNlcm5hbWUpXG4gICAgICAgIH0pXG4gICAgfSlcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuLmNvbnRyb2xsZXIoJ1Bvc3RzQ3RybCcsZnVuY3Rpb24oJHNjb3BlLFBvc3RzU3ZjKXsgXG4gIFBvc3RzU3ZjLmZldGNoKClcbiBcdC5zdWNjZXNzKGZ1bmN0aW9uIChwb3N0cyl7XG4gXHRcdCRzY29wZS5wb3N0cyA9IHBvc3RzXG5cbiBcdH0pXG5cdFxuIFx0ICRzY29wZS5hZGRQb3N0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmICgkc2NvcGUucG9zdEJvZHkpIHtcbiAgICAgICAgICAgIFBvc3RzU3ZjLmNyZWF0ZSh7XG4gICAgICAgICAgICAgIC8qdXNlcm5hbWU6ICd2aXNoYWxSYW5qYW4nLCovXG4gICAgICAgICAgICAgIGJvZHk6ICAgICAkc2NvcGUucG9zdEJvZHkgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfSkuc3VjY2VzcyhmdW5jdGlvbiAocG9zdCkge1xuICAgICAgICAgICAgICAvLyRzY29wZS5wb3N0cy51bnNoaWZ0KHBvc3QpXG4gICAgICAgICAgICAgICRzY29wZS5wb3N0Qm9keSA9IG51bGxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAkc2NvcGUuJG9uKCd3czpuZXdfcG9zdCcsZnVuY3Rpb24oXyxwb3N0KXtcbiAgICAkc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCl7XG4gICAgICAkc2NvcGUucG9zdHMudW5zaGlmdChwb3N0KVxuICAgIH0pXG4gIH0pXG4gXG59KVxuXG4gIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4uc2VydmljZSgnUG9zdHNTdmMnLCBmdW5jdGlvbigkaHR0cCl7XG4gICB0aGlzLmZldGNoID0gZnVuY3Rpb24gKCkgeyAgIFx0XG4gICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvcG9zdHMnKVxuICAgfVxuICAgdGhpcy5jcmVhdGUgPSBmdW5jdGlvbiAocG9zdCl7XG4gICBcdFxuICAgICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvcG9zdHMnLHBvc3QpXG4gICB9XG4gfSkiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcbi5jb250cm9sbGVyKCdSZWdpc3RlckN0cmwnLGZ1bmN0aW9uKCRzY29wZSxVc2VyU3ZjICwkbG9jYXRpb24pe1xuXHQkc2NvcGUucmVnaXN0ZXIgPSBmdW5jdGlvbihuYW1lLHVzZXJuYW1lLHBhc3N3b3JkKXtcblx0XHRVc2VyU3ZjLnJlZ2lzdGVyKG5hbWUsdXNlcm5hbWUscGFzc3dvcmQpXG5cdFx0LnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1x0XHRcdFxuXHRcdFx0JHNjb3BlLiRlbWl0KCdsb2dpbicscmVzcG9uc2UuZGF0YSlcblx0XHRcdCRsb2NhdGlvbi5wYXRoKCcvaG9tZScpXG5cdFx0fSlcblx0XHQuY2F0Y2goZnVuY3Rpb24gKGVycil7XG5cdFx0XHRjb25zb2xlLmxvZyhlcnIpXG5cdFx0fSlcblx0fVxuXG59KVxuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4uc2VydmljZSgnc2VnbWVudCcsIGZ1bmN0aW9uKCRodHRwLCR3aW5kb3csJGxvY2F0aW9uKXtcbiAgXG4gICAgIHJldHVybiB7XG4gICAgICAgIGdldERhdGE6IGZ1bmN0aW9uKCRxLCAkaHR0cCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJoZXJlXCIpO1xuICAgICAgICAgICAgcmV0dXJuIDJcbiAgICAgICAgfVxuICAgIH07XG5cbn0pIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4gICAgLmNvbmZpZyhmdW5jdGlvbigkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyLCAkbG9jYXRpb25Qcm92aWRlcikge1xuXG4gICAgICAgICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy8nKTtcblxuICAgICAgICAkc3RhdGVQcm92aWRlclxuICAgICAgICAgICAgLnN0YXRlKCdhcHAnLCB7XG4gICAgICAgICAgICAgICAgdXJsOiAnLycsXG4gICAgICAgICAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAgICAgICAgICAgJ2hlYWRlcic6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL25hdi5odG1sJ1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAnY29udGVudCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2xvZ2luLmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0xvZ2luQ3RybCdcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgLnN0YXRlKCdhcHAubG9naW4nLCB7XG4gICAgICAgICAgICB1cmw6ICdsb2dpbicsXG4gICAgICAgICAgICB2aWV3czoge1xuICAgICAgICAgICAgICAgICdoZWFkZXInOiB7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL25hdi5odG1sJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ2NvbnRlbnQnOiB7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2xvZ2luLmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnTG9naW5DdHJsJ1xuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuXG4gICAgICAgIC5zdGF0ZSgnYXBwLnJlZ2lzdGVyJywge1xuICAgICAgICAgICAgdXJsOiAncmVnaXN0ZXInLFxuICAgICAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAgICAgICAnY29udGVudEAnOiB7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncmVnaXN0ZXIuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdSZWdpc3RlckN0cmwnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0pXG5cblxuICAgICAgICAuc3RhdGUoJ2FwcC5ob21lJywge1xuICAgICAgICAgICAgdXJsOiAnaG9tZScsXG4gICAgICAgICAgICB2aWV3czoge1xuICAgICAgICAgICAgICAgICdjb250ZW50QCc6IHtcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd1c2Vycy9ob21lLmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnSG9tZUN0cmwnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0pXG5cbiAgICAgICAgLnN0YXRlKCdhcHAuaG9tZS52ZWhpY2xlcycsIHtcbiAgICAgICAgICAgIHVybDogJy92ZWhpY2xlcy9uZXcnLFxuICAgICAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAgICAgICAnY29udGVudEAnOiB7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmVoaWNsZXMvbmV3VmVoaWNsZS5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ1ZlaGljbGVzTmV3SW5mb0N0cmwnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0pXG5cbiAgICAgICAgLnN0YXRlKCdhcHAucHJvZHVjdHMnLCB7XG4gICAgICAgICAgICB1cmw6ICdwcm9kdWN0cycsXG4gICAgICAgICAgICB2aWV3czoge1xuICAgICAgICAgICAgICAgICdjb250ZW50QCc6IHtcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwcm9kdWN0cy9wcm9kdWN0cy5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3Byb2R1Y3RzQ3RybCdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSlcblxuICAgICAgICAuc3RhdGUoJ2FwcC5wcm9kdWN0cy5uZXcnLCB7XG4gICAgICAgICAgICB1cmw6ICcvbmV3JyxcbiAgICAgICAgICAgIHZpZXdzOiB7XG4gICAgICAgICAgICAgICAgJ2NvbnRlbnRAJzoge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3Byb2R1Y3RzL25ld1Byb2R1Y3QuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICduZXdQcm9kdWN0Q3RybCdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSlcblxuICAgICAgICAuc3RhdGUoJ2FwcC5wcm9kdWN0cy5kZXRhaWxzJywge1xuICAgICAgICAgICAgdXJsOiAnLzppZCcsXG5cbiAgICAgICAgICAgIHZpZXdzOiB7XG4gICAgICAgICAgICAgICAgJ2NvbnRlbnRAJzoge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3Byb2R1Y3RzL2VkaXRQcm9kdWN0Lmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnZWRpdFByb2R1Y3RDdHJsJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9KVxuXG5cbiAgICAgICAgLy8gIFJlc291cmNlcyBNZW51IFxuXG4gICAgICAgIC5zdGF0ZSgnYXBwLmNvbXBhbmllcycsIHtcbiAgICAgICAgICAgIHVybDogJ3Jlc291cmNlcy9jb21wYW5pZXMnLFxuICAgICAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAgICAgICAnY29udGVudEAnOiB7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncmVzb3VyY2VzL2NvbXBhbmllcy5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2NvbXBhbmllc0N0cmwnXG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSlcblxuICAgICAgICAuc3RhdGUoJ2FwcC5jb21wYW5pZXMubmV3Jywge1xuICAgICAgICAgICAgdXJsOiAnL25ldycsXG4gICAgICAgICAgICB2aWV3czoge1xuXG4gICAgICAgICAgICAgICAgJ2NvbnRlbnRAJzoge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3Jlc291cmNlcy9uZXdDb21wYW55Lmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnbmV3Q29tcGFueUN0cmwnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0pXG5cbiAgICAgICAgLnN0YXRlKCdhcHAuY29tcGFuaWVzLmRldGFpbHMnLCB7XG4gICAgICAgICAgICB1cmw6ICcvOmlkJyxcblxuICAgICAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAgICAgICAnY29udGVudEAnOiB7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncmVzb3VyY2VzL2VkaXRDb21wYW55Lmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnZWRpdENvbXBhbnlDdHJsJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9KVxuXG4gICAgICAgIC5zdGF0ZSgnYXBwLnN0b2NraXN0cycsIHtcbiAgICAgICAgICAgIHVybDogJ3Jlc291cmNlcy9zdG9ja2lzdHMnLFxuICAgICAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAgICAgICAnY29udGVudEAnOiB7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncmVzb3VyY2VzL3N0b2NraXN0cy5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3N0b2NraXN0c0N0cmwnXG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSlcblxuICAgICAgICAuc3RhdGUoJ2FwcC5zdG9ja2lzdHMubmV3Jywge1xuICAgICAgICAgICAgdXJsOiAnL25ldycsXG4gICAgICAgICAgICB2aWV3czoge1xuXG4gICAgICAgICAgICAgICAgJ2NvbnRlbnRAJzoge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3Jlc291cmNlcy9uZXdTdG9ja2lzdC5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ25ld1N0b2NraXN0Q3RybCdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSlcblxuXG4gICAgICAgIC5zdGF0ZSgnYXBwLmVtcGxveWVlcycsIHtcbiAgICAgICAgICAgIHVybDogJ3Jlc291cmNlcy9lbXBsb3llZXMnLFxuICAgICAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAgICAgICAnY29udGVudEAnOiB7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncmVzb3VyY2VzL2VtcGxveWVlcy5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2VtcGxveWVlc0N0cmwnXG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSlcblxuICAgICAgICAuc3RhdGUoJ2FwcC5lbXBsb3llZXMubmV3Jywge1xuICAgICAgICAgICAgdXJsOiAnL25ldycsXG4gICAgICAgICAgICB2aWV3czoge1xuXG4gICAgICAgICAgICAgICAgJ2NvbnRlbnRAJzoge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3Jlc291cmNlcy9uZXdFbXBsb3llZS5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ25ld0VtcGxveWVlQ3RybCdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSlcblxuXG4gICAgICAgIC8vICBTYWxlcyBNZW51IFxuXG4gICAgICAgIC5zdGF0ZSgnYXBwLmludm9pY2VlbnRyeScsIHtcbiAgICAgICAgICAgIHVybDogJ3NhbGVzL2ludm9pY2UtZW50cnknLFxuICAgICAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAgICAgICAnY29udGVudEAnOiB7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnc2FsZXMvaW52b2ljZUVudHJ5Lmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnaW52b2ljZUVudHJ5Q3RybCdcblxuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0pXG5cblxuICAgICAgICAuc3RhdGUoJ2FwcC5iaWxsaGVhZGVyJywge1xuICAgICAgICAgICAgdXJsOiAnc2FsZXMvYmlsbGhlYWRlcicsXG4gICAgICAgICAgICB2aWV3czoge1xuICAgICAgICAgICAgICAgICdjb250ZW50QCc6IHtcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdzYWxlcy9iaWxsSGVhZGVyLmh0bWwnXG5cblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9KVxuXG4gICAgICAgIC5zdGF0ZSgnYXBwLnNhbGVzcmV0dXJuJywge1xuICAgICAgICAgICAgdXJsOiAnc2FsZXMvc2FsZXMtcmV0dXJuJyxcbiAgICAgICAgICAgIHZpZXdzOiB7XG4gICAgICAgICAgICAgICAgJ2NvbnRlbnRAJzoge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3NhbGVzL3NhbGVzUmV0dXJuLmh0bWwnXG5cblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9KVxuXG5cbiAgICAgICAgLy8gUHVyY2hhc2UgTWVudVxuXG4gICAgICAgIC5zdGF0ZSgnYXBwLnB1cmNoYXNlZW50cnknLCB7XG4gICAgICAgICAgICB1cmw6ICdzYWxlcy9wdXJjaGFzZS1lbnRyeScsXG4gICAgICAgICAgICB2aWV3czoge1xuICAgICAgICAgICAgICAgICdjb250ZW50QCc6IHtcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwdXJjaGFzZS9wdXJjaGFzZUVudHJ5Lmh0bWwnXG5cblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9KVxuXG5cbiAgICAgICAgLnN0YXRlKCdhcHAuc2V0dGluZ3MnLCB7XG4gICAgICAgICAgICB1cmw6ICdhYm91dCcsXG4gICAgICAgICAgICB2aWV3czoge1xuICAgICAgICAgICAgICAgICdjb250ZW50QCc6IHtcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdzZXR0aW5ncy9hYm91dC5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0hvbWVDdHJsJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9KVxuXG4gICAgICAgICRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh0cnVlKVxuXG5cbiAgICB9KTtcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuICAgIC5zZXJ2aWNlKCdVc2VyU3ZjJywgZnVuY3Rpb24oJGh0dHAsICR3aW5kb3csICRsb2NhdGlvbikge1xuICAgICAgICB2YXIgc3ZjID0gdGhpc1xuICAgICAgICBzdmMuZ2V0VXNlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldCgnYXBpL3VzZXJzJylcbiAgICAgICAgfVxuXG4gICAgICAgIHN2Yy5sb2dpbiA9IGZ1bmN0aW9uKHVzZXJuYW1lLCBwYXNzd29yZCkge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLnBvc3QoJ2FwaS9zZXNzaW9ucycsIHtcbiAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lLFxuICAgICAgICAgICAgICAgICAgICBwYXNzd29yZDogcGFzc3dvcmRcbiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICAgICAgICAgICAgICBzdmMudG9rZW4gPSB2YWwuZGF0YVxuICAgICAgICAgICAgICAgICAgICAkd2luZG93LnNlc3Npb25TdG9yYWdlW1widXNlcl90b2tlblwiXSA9IEpTT04uc3RyaW5naWZ5KHN2Yy50b2tlbilcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ1c2VyX3Rva2VuXCIsIEpTT04uc3RyaW5naWZ5KHN2Yy50b2tlbikpO1xuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsneC1hdXRoJ10gPSB2YWwuZGF0YVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3ZjLmdldFVzZXIoKVxuICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0dpc3RzIGVycm9yJywgcmVzcG9uc2Uuc3RhdHVzLCByZXNwb25zZS5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy80MDEnKVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmZpbmFsbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZmluYWxseSBmaW5pc2hlZCBnaXN0c1wiKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgc3ZjLnJlZ2lzdGVyID0gZnVuY3Rpb24obmFtZSwgdXNlcm5hbWUsIHBhc3N3b3JkKSB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAucG9zdCgnYXBpL3VzZXJzJywge1xuICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lLFxuICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZFxuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgICAgICAvL3JldHVybiB2YWw7XHRcdFx0XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN2Yy5sb2dpbih1c2VybmFtZSwgcGFzc3dvcmQpXG5cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgIH0pXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcbiAgICAuY29udHJvbGxlcignY29tcGFuaWVzQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgJGh0dHApIHtcbiAgICAgICAgXG4gICAgICAgICRzY29wZS5zZXR1cCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAkaHR0cC5nZXQoJy9hcGkvY29tcGFuaWVzJylcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubW9kZWwgPSByZXNwb25zZS5kYXRhO1xuXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gY2FsbGVkIGFzeW5jaHJvbm91c2x5IGlmIGFuIGVycm9yIG9jY3Vyc1xuICAgICAgICAgICAgICAgICAgICAvLyBvciBzZXJ2ZXIgcmV0dXJucyByZXNwb25zZSB3aXRoIGFuIGVycm9yIHN0YXR1cy5cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICB9XG5cbiAgICAgICAgJHNjb3BlLnNldHVwKCk7XG5cblxuICAgICAgICAkc2NvcGUuZGVsZXRlQ29tcGFueSA9IGZ1bmN0aW9uKGNvbXBhbnlfaWQpIHsgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoIWNvbmZpcm0oJ0FyZSB5b3Ugc3VyZT8nKSkgcmV0dXJuO1xuICAgICAgICAgICAgJGh0dHAuZGVsZXRlKCcvYXBpL2NvbXBhbmllcy8nKyBjb21wYW55X2lkKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKSAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zZXR1cCgpO1xuXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIGVycm9yIG9jY3Vyc1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH1cblxuXG5cbiAgICB9KVxuXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcbiAgICAuY29udHJvbGxlcignZWRpdENvbXBhbnlDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCAkaHR0cCwgJGxvY2F0aW9uLCAkc3RhdGVQYXJhbXMpIHtcblxuXG4gICAgICAgICRzY29wZS5zZXR1cCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJHN0YXRlUGFyYW1zKVxuICAgICAgICAgICAgJGh0dHAuZ2V0KCcvYXBpL2NvbXBhbmllcy8nICsgJHN0YXRlUGFyYW1zLmlkKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5tb2RlbCA9IHJlc3BvbnNlLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCRzY29wZS5tb2RlbClcblxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH1cblxuICAgICAgICAkc2NvcGUudXBkYXRlQ29tcGFueURldGFpbHMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICRodHRwLnB1dCgnL2FwaS9jb21wYW5pZXMvJyArICRzdGF0ZVBhcmFtcy5pZCwge1xuICAgICAgICAgICAgICAgICAgICBjb21wYW55X2NvZGU6ICRzY29wZS5tb2RlbC5jb21wYW55X2NvZGUsXG4gICAgICAgICAgICAgICAgICAgIGNvbXBhbnlfbmFtZTogJHNjb3BlLm1vZGVsLmNvbXBhbnlfbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgY29tcGFueV9hcmVhY29kZTogJHNjb3BlLm1vZGVsLmNvbXBhbnlfYXJlYWNvZGUsXG4gICAgICAgICAgICAgICAgICAgIGNvbXBhbnlfYWRkcmVzczogJHNjb3BlLm1vZGVsLmNvbXBhbnlfYWRkcmVzcyxcbiAgICAgICAgICAgICAgICAgICAgY29tcGFueV9vcGVuaW5nYmFsYW5jZTogJHNjb3BlLm1vZGVsLmNvbXBhbnlfb3BlbmluZ2JhbGFuY2UsXG4gICAgICAgICAgICAgICAgICAgIGNvbXBhbnlfYnN0Y29kZTogJHNjb3BlLm1vZGVsLmNvbXBhbnlfYnN0Y29kZSxcblxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpXG5cbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSlcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICB9XG5cblxuXG4gICAgICAgICRzY29wZS5zZXR1cCgpO1xuXG5cblxuICAgIH0pXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcbiAgICAuY29udHJvbGxlcignZW1wbG95ZWVzQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgJGh0dHApIHtcbiAgICAgICAgXG4gICAgICAgICRzY29wZS5zZXR1cCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAkaHR0cC5nZXQoJy9hcGkvZW1wbG95ZWVzJylcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubW9kZWwgPSByZXNwb25zZS5kYXRhO1xuXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gY2FsbGVkIGFzeW5jaHJvbm91c2x5IGlmIGFuIGVycm9yIG9jY3Vyc1xuICAgICAgICAgICAgICAgICAgICAvLyBvciBzZXJ2ZXIgcmV0dXJucyByZXNwb25zZSB3aXRoIGFuIGVycm9yIHN0YXR1cy5cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICB9XG5cbiAgICAgICAgJHNjb3BlLnNldHVwKCk7XG5cblxuXG4gICAgfSlcblxuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4gICAgLmNvbnRyb2xsZXIoJ25ld0NvbXBhbnlDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCAkaHR0cCwgJGxvY2F0aW9uKSB7XG5cblxuICAgICAgICAkc2NvcGUuc2F2ZUNvbXBhbnlEZXRhaWxzID0gZnVuY3Rpb24oKSB7ICBcbiAgICAgICAgY29uc29sZS5sb2coXCJIZXJlIGluIHRoZSBjb21wYW55IGNvbnRyb2xsZXJcIikgOyAgICAgICAgIFxuXG4gICAgICAgICAgICAkaHR0cC5wb3N0KCcvYXBpL2NvbXBhbmllcycsIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcGFueV9jb2RlOiAkc2NvcGUuY29tcGFueV9jb2RlLFxuICAgICAgICAgICAgICAgICAgICBjb21wYW55X25hbWU6ICRzY29wZS5jb21wYW55X25hbWUsXG4gICAgICAgICAgICAgICAgICAgIGNvbXBhbnlfYXJlYWNvZGU6ICRzY29wZS5jb21wYW55X2FyZWFjb2RlLFxuICAgICAgICAgICAgICAgICAgICBjb21wYW55X2FkZHJlc3M6ICRzY29wZS5jb21wYW55X2FkZHJlc3MsXG4gICAgICAgICAgICAgICAgICAgIGNvbXBhbnlfb3BlbmluZ2JhbGFuY2U6ICRzY29wZS5jb21wYW55X29wZW5pbmdiYWxhbmNlLFxuICAgICAgICAgICAgICAgICAgICBjb21wYW55X2JzdGNvZGU6ICRzY29wZS5jb21wYW55X2JzdGNvZGUsICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKVxuICAgICAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL3Jlc291cmNlcy9jb21wYW5pZXMnKVxuXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfVxuXG5cblxuICAgIH0pXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcbiAgICAuY29udHJvbGxlcignbmV3RW1wbG95ZWVDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCAkaHR0cCwgJGxvY2F0aW9uKSB7XG5cblxuICAgICAgICAkc2NvcGUuc2F2ZUVtcGxveWVlRGV0YWlscyA9IGZ1bmN0aW9uKCkgeyAgXG4gICAgICAgIGNvbnNvbGUubG9nKFwiSGVyZSBpbiB0aGUgRW1wbG95ZWUgY29udHJvbGxlclwiKSA7ICAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKCRzY29wZS5lbXBsb3llZV9jb2RlKVxuXG4gICAgICAgICAgICAkaHR0cC5wb3N0KCcvYXBpL2VtcGxveWVlcycsIHtcbiAgICAgICAgICAgICAgICAgICAgZW1wbG95ZWVfY29kZTogJHNjb3BlLmVtcGxveWVlX2NvZGUsXG4gICAgICAgICAgICAgICAgICAgIGVtcGxveWVlX25hbWU6ICRzY29wZS5lbXBsb3llZV9uYW1lLFxuICAgICAgICAgICAgICAgICAgICBlbXBsb3llZV9hcmVhY29kZTogJHNjb3BlLmVtcGxveWVlX2FyZWFjb2RlLFxuICAgICAgICAgICAgICAgICAgICBlbXBsb3llZV9hZGRyZXNzOiAkc2NvcGUuZW1wbG95ZWVfYWRkcmVzcyxcbiAgICAgICAgICAgICAgICAgICAgZW1wbG95ZWVfb3BlbmluZ2JhbGFuY2U6ICRzY29wZS5lbXBsb3llZV9vcGVuaW5nYmFsYW5jZSxcbiAgICAgICAgICAgICAgICAgICAgZW1wbG95ZWVfYnN0Y29kZTogJHNjb3BlLmVtcGxveWVlX2JzdGNvZGUsICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKVxuICAgICAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL3Jlc291cmNlcy9lbXBsb3llZXMnKVxuXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfVxuXG5cblxuICAgIH0pXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcbiAgICAuY29udHJvbGxlcignbmV3U3RvY2tpc3RDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCAkaHR0cCwgJGxvY2F0aW9uKSB7XG5cblxuICAgICAgICAkc2NvcGUuc2F2ZVN0b2NraXN0RGV0YWlscyA9IGZ1bmN0aW9uKCkgeyAgXG4gICAgICAgIGNvbnNvbGUubG9nKFwiSGVyZSBpbiB0aGUgU3RvY2tpc3QgY29udHJvbGxlclwiKSA7ICAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKCRzY29wZS5zdG9ja2lzdF9jb2RlKVxuXG4gICAgICAgICAgICAkaHR0cC5wb3N0KCcvYXBpL3N0b2NraXN0cycsIHtcbiAgICAgICAgICAgICAgICAgICAgc3RvY2tpc3RfY29kZTogJHNjb3BlLnN0b2NraXN0X2NvZGUsXG4gICAgICAgICAgICAgICAgICAgIHN0b2NraXN0X25hbWU6ICRzY29wZS5zdG9ja2lzdF9uYW1lLFxuICAgICAgICAgICAgICAgICAgICBzdG9ja2lzdF9hcmVhY29kZTogJHNjb3BlLnN0b2NraXN0X2FyZWFjb2RlLFxuICAgICAgICAgICAgICAgICAgICBzdG9ja2lzdF9hZGRyZXNzOiAkc2NvcGUuc3RvY2tpc3RfYWRkcmVzcyxcbiAgICAgICAgICAgICAgICAgICAgc3RvY2tpc3Rfb3BlbmluZ2JhbGFuY2U6ICRzY29wZS5zdG9ja2lzdF9vcGVuaW5nYmFsYW5jZSxcbiAgICAgICAgICAgICAgICAgICAgc3RvY2tpc3RfYnN0Y29kZTogJHNjb3BlLnN0b2NraXN0X2JzdGNvZGUsICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKVxuICAgICAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL3Jlc291cmNlcy9zdG9ja2lzdHMnKVxuXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfVxuXG5cblxuICAgIH0pXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcbiAgICAuY29udHJvbGxlcignc3RvY2tpc3RzQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgJGh0dHApIHtcbiAgICAgICAgXG4gICAgICAgICRzY29wZS5zZXR1cCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAkaHR0cC5nZXQoJy9hcGkvc3RvY2tpc3RzJylcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubW9kZWwgPSByZXNwb25zZS5kYXRhO1xuXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gY2FsbGVkIGFzeW5jaHJvbm91c2x5IGlmIGFuIGVycm9yIG9jY3Vyc1xuICAgICAgICAgICAgICAgICAgICAvLyBvciBzZXJ2ZXIgcmV0dXJucyByZXNwb25zZSB3aXRoIGFuIGVycm9yIHN0YXR1cy5cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICB9XG5cbiAgICAgICAgJHNjb3BlLnNldHVwKCk7XG5cblxuXG4gICAgfSlcblxuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4uY29udHJvbGxlcignVmVoaWNsZXNFZGl0SW5mb0N0cmwnLGZ1bmN0aW9uKCRzY29wZSwkaHR0cCwkbG9jYXRpb24sJHN0YXRlUGFyYW1zKXsgXG4gXG5cbiRzY29wZS5zZXR1cCA9IGZ1bmN0aW9uKCl7XG5cdGNvbnNvbGUubG9nKCRzdGF0ZVBhcmFtcylcblx0JGh0dHAuZ2V0KCcvYXBpL3ZlaGljbGUvJyskc3RhdGVQYXJhbXMuaWQpXG5cdC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cdCAgICAkc2NvcGUubW9kZWwgPSByZXNwb25zZS5kYXRhO1xuXHQgICAgY29uc29sZS5sb2coJHNjb3BlLm1vZGVsKVxuXG5cdCAgfSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcblx0ICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKVxuXHQgIH0pO1xuXHRcbn1cblxuJHNjb3BlLnNldHVwKCk7XG4gXG4gXG4gXG59KVxuXG4gIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4gICAgLmNvbnRyb2xsZXIoJ2VkaXRQcm9kdWN0Q3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgJGh0dHAsICRsb2NhdGlvbiwgJHN0YXRlUGFyYW1zKSB7XG5cblxuICAgICAgICAkc2NvcGUuc2V0dXAgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCRzdGF0ZVBhcmFtcylcbiAgICAgICAgICAgICRodHRwLmdldCgnL2FwaS9wcm9kdWN0cy8nICsgJHN0YXRlUGFyYW1zLmlkKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5tb2RlbCA9IHJlc3BvbnNlLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCRzY29wZS5tb2RlbClcblxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH1cblxuICAgICAgICAkc2NvcGUudXBkYXRlUHJvZHVjdERldGFpbHMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICRodHRwLnB1dCgnL2FwaS9wcm9kdWN0cy8nICsgJHN0YXRlUGFyYW1zLmlkLCB7XG4gICAgICAgICAgICAgICAgICAgIHByb2R1Y3RfY29kZTogJHNjb3BlLm1vZGVsLnByb2R1Y3RfY29kZSxcbiAgICAgICAgICAgICAgICAgICAgcHJvZHVjdF9uYW1lOiAkc2NvcGUubW9kZWwucHJvZHVjdF9uYW1lLFxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0X2FyZWFjb2RlOiAkc2NvcGUubW9kZWwucHJvZHVjdF9hcmVhY29kZSxcbiAgICAgICAgICAgICAgICAgICAgcHJvZHVjdF9hZGRyZXNzOiAkc2NvcGUubW9kZWwucHJvZHVjdF9hZGRyZXNzLFxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0X29wZW5pbmdiYWxhbmNlOiAkc2NvcGUubW9kZWwucHJvZHVjdF9vcGVuaW5nYmFsYW5jZSxcbiAgICAgICAgICAgICAgICAgICAgcHJvZHVjdF9ic3Rjb2RlOiAkc2NvcGUubW9kZWwucHJvZHVjdF9ic3Rjb2RlLFxuXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSlcblxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH1cblxuXG5cbiAgICAgICAgJHNjb3BlLnNldHVwKCk7XG5cblxuXG4gICAgfSlcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuICAgIC5jb250cm9sbGVyKCduZXdQcm9kdWN0Q3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgJGh0dHAsICRsb2NhdGlvbikge1xuXG5cbiAgICAgICAgJHNjb3BlLnNhdmVQcm9kdWN0RGV0YWlscyA9IGZ1bmN0aW9uKCkgeyAgXG4gICAgICAgIGNvbnNvbGUubG9nKFwiSGVyZSBpbiB0aGUgcHJvZHVjdCBjb250cm9sbGVyXCIpIDsgICAgICAgICBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgJGh0dHAucG9zdCgnL2FwaS9wcm9kdWN0cycsIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvZHVjdF9jb2RlOiAkc2NvcGUucHJvZHVjdF9jb2RlLFxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0X25hbWU6ICRzY29wZS5wcm9kdWN0X25hbWUsXG4gICAgICAgICAgICAgICAgICAgIHByb2R1Y3RfcGFja2luZzogJHNjb3BlLnByb2R1Y3RfcGFja2luZyxcbiAgICAgICAgICAgICAgICAgICAgcHJvZHVjdF9jb21wYW55OiAkc2NvcGUucHJvZHVjdF9jb21wYW55LFxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0X3NhbGVzdGF4OiAkc2NvcGUucHJvZHVjdF9zYWxlc3RheCxcbiAgICAgICAgICAgICAgICAgICAgcHJvZHVjdF9kaXNjb3VudDogJHNjb3BlLnByb2R1Y3RfZGlzY291bnQsXG4gICAgICAgICAgICAgICAgICAgIHByb2R1Y3RfYm94c2l6ZTogJHNjb3BlLnByb2R1Y3RfYm94c2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgcHJvZHVjdF9wdXJjaGFzZTogJHNjb3BlLnByb2R1Y3RfcHVyY2hhc2UsXG4gICAgICAgICAgICAgICAgICAgIHByb2R1Y3RfbXJwOiAkc2NvcGUucHJvZHVjdF9tcnAsXG5cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSlcbiAgICAgICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9wcm9kdWN0cycpXG5cbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSlcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICB9XG5cbiAgICAgICAgICRzY29wZS5hdmFpbGFibGVDb21wYW5pZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICRodHRwLmdldCgnL2FwaS9jb21wYW5pZXMnKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5jb21wYW5pZXMgPSBfLm1hcChyZXNwb25zZS5kYXRhLCBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogb2JqLmNvbXBhbnlfbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRyZXNzOiBvYmouY29tcGFueV9hZGRyZXNzXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJHNjb3BlLmNvbXBhbmllcyk7XG5cbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2FsbGVkIGFzeW5jaHJvbm91c2x5IGlmIGFuIGVycm9yIG9jY3Vyc1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gb3Igc2VydmVyIHJldHVybnMgcmVzcG9uc2Ugd2l0aCBhbiBlcnJvciBzdGF0dXMuXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuXG4gICAgICAgICRzY29wZS5zZXR1cCA9IGZ1bmN0aW9uKCkgeyAgICAgICAgICAgIFxuICAgICAgICAgICAgJHNjb3BlLmF2YWlsYWJsZUNvbXBhbmllcygpO1xuICAgICAgICB9XG5cbiAgICAgICAgJHNjb3BlLnNldHVwKCk7XG5cblxuICAgIH0pXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcbiAgICAuY29udHJvbGxlcigncHJvZHVjdHNDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCAkaHR0cCkge1xuICAgICAgICAkc2NvcGUubG9hZGluZyA9IHRydWU7XG4gICAgICAgICRzY29wZS5zZXR1cCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAkaHR0cC5nZXQoJy9hcGkvcHJvZHVjdHMnKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5tb2RlbCA9IHJlc3BvbnNlLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgICAkc2NvcGUubG9hZGluZyA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gY2FsbGVkIGFzeW5jaHJvbm91c2x5IGlmIGFuIGVycm9yIG9jY3Vyc1xuICAgICAgICAgICAgICAgICAgICAvLyBvciBzZXJ2ZXIgcmV0dXJucyByZXNwb25zZSB3aXRoIGFuIGVycm9yIHN0YXR1cy5cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICB9XG5cbiAgICAgICAgJHNjb3BlLnNldHVwKCk7XG5cblxuXG4gICAgfSlcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuLmNvbnRyb2xsZXIoJ1ZlaGljbGVzTmV3SW5mb0N0cmwnLGZ1bmN0aW9uKCRzY29wZSwkaHR0cCwkbG9jYXRpb24peyBcbiBcblxuJHNjb3BlLnNhdmVWZWhpY2xlRGV0YWlscyA9IGZ1bmN0aW9uKCl7XG5cdGNvbnNvbGUubG9nKFwiaW4gY29udHJvbGxlciAyXCIpXG5cdGNvbnNvbGUubG9nKCRzY29wZS5kZXZfaWQgKyAkc2NvcGUudl9udW1iZXIpXG5cdCBcblxuXHQkaHR0cC5wb3N0KCcvYXBpL3ZlaGljbGUnLHtcblx0XHRkZXZfaWQ6ICRzY29wZS5kZXZfaWQsXG4gICAgICAgIHZfbnVtYmVyOiAkc2NvcGUudl9udW1iZXIsXG4gICAgICAgIGRyaXZlcl9uYW1lIDogJHNjb3BlLmRyaXZlcl9uYW1lLFxuICAgICAgICBzb3NfbnVtYmVyIDogJHNjb3BlLnNvc19udW1iZXIgICAgICAgICAgICAgICAgICAgICAgIFxuXHR9KVxuXHQudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuXHQgICAgY29uc29sZS5sb2cocmVzcG9uc2UpXG5cdCAgICAkbG9jYXRpb24ucGF0aCgnL2hvbWUnKVxuXG5cdCAgfSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcblx0ICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKVxuXHQgIH0pO1xuXHRcbn1cbiBcbiBcbiBcbn0pXG5cbiAiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcbiAgICAuY29udHJvbGxlcignaW52b2ljZUVudHJ5Q3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgJGh0dHApIHtcbiAgICAgICAgJHNjb3BlLm1vZGVsID0ge307XG5cbiAgICAgICAgJHNjb3BlLmF2YWlsYWJsZVByb2R1Y3RzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkaHR0cC5nZXQoJy9hcGkvcHJvZHVjdHMnKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5tb2RlbC5wcm9kdWN0cyA9IF8ubWFwKHJlc3BvbnNlLmRhdGEsIGZ1bmN0aW9uKG9iaikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBvYmoucHJvZHVjdF9uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IG9iai5wcm9kdWN0X2NvZGVcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycilcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNhbGxlZCBhc3luY2hyb25vdXNseSBpZiBhbiBlcnJvciBvY2N1cnNcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9yIHNlcnZlciByZXR1cm5zIHJlc3BvbnNlIHdpdGggYW4gZXJyb3Igc3RhdHVzLlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cblxuICAgICAgICAkc2NvcGUuYXZhaWxhYmxlQ29tcGFuaWVzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkaHR0cC5nZXQoJy9hcGkvY29tcGFuaWVzJylcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubW9kZWwuY29tcGFuaWVzID0gXy5tYXAocmVzcG9uc2UuZGF0YSwgZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IG9iai5jb21wYW55X25hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzczogb2JqLmNvbXBhbnlfYWRkcmVzc1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCRzY29wZS5tb2RlbC5jb21wYW5pZXMpO1xuXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycilcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNhbGxlZCBhc3luY2hyb25vdXNseSBpZiBhbiBlcnJvciBvY2N1cnNcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9yIHNlcnZlciByZXR1cm5zIHJlc3BvbnNlIHdpdGggYW4gZXJyb3Igc3RhdHVzLlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cblxuICAgICAgICAkc2NvcGUuc2V0dXAgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICRzY29wZS5hdmFpbGFibGVQcm9kdWN0cygpO1xuICAgICAgICAgICAgJHNjb3BlLmF2YWlsYWJsZUNvbXBhbmllcygpO1xuICAgICAgICB9XG5cbiAgICAgICAgJHNjb3BlLnNldHVwKCk7XG5cblxuXG5cbiAgICAgICAgZnVuY3Rpb24gY2FsZW5kYXJJbXBsZW1lbnRhdGlvbigpIHtcbiAgICAgICAgICAgICRzY29wZS50b2RheSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICRzY29wZS5kdCA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgJHNjb3BlLnRvZGF5KCk7XG5cbiAgICAgICAgICAgICRzY29wZS5jbGVhciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICRzY29wZS5kdCA9IG51bGw7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvKiAvLyBEaXNhYmxlIHdlZWtlbmQgc2VsZWN0aW9uXG4gICAgICAgICAgICAgJHNjb3BlLmRpc2FibGVkID0gZnVuY3Rpb24oZGF0ZSwgbW9kZSkge1xuICAgICAgICAgICAgICAgICByZXR1cm4gbW9kZSA9PT0gJ2RheScgJiYgKGRhdGUuZ2V0RGF5KCkgPT09IDAgfHwgZGF0ZS5nZXREYXkoKSA9PT0gNik7XG4gICAgICAgICAgICAgfTsqL1xuXG4gICAgICAgICAgICAkc2NvcGUudG9nZ2xlTWluID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLm1pbkRhdGUgPSAkc2NvcGUubWluRGF0ZSA/IG51bGwgOiBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgJHNjb3BlLnRvZ2dsZU1pbigpO1xuICAgICAgICAgICAgJHNjb3BlLm1heERhdGUgPSBuZXcgRGF0ZSgyMDIwLCA1LCAyMik7XG5cbiAgICAgICAgICAgICRzY29wZS5vcGVuMSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICRzY29wZS5wb3B1cDEub3BlbmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICRzY29wZS5vcGVuMiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICRzY29wZS5wb3B1cDIub3BlbmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICRzY29wZS5zZXREYXRlID0gZnVuY3Rpb24oeWVhciwgbW9udGgsIGRheSkge1xuICAgICAgICAgICAgICAgICRzY29wZS5kdCA9IG5ldyBEYXRlKHllYXIsIG1vbnRoLCBkYXkpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgJHNjb3BlLmRhdGVPcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIGZvcm1hdFllYXI6ICd5eScsXG4gICAgICAgICAgICAgICAgc3RhcnRpbmdEYXk6IDEsXG4gICAgICAgICAgICAgICAgc2hvd1dlZWtzOiBmYWxzZVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgJHNjb3BlLmZvcm1hdHMgPSBbJ2RkLU1NTU0teXl5eScsICd5eXl5L01NL2RkJywgJ2RkLk1NLnl5eXknLCAnc2hvcnREYXRlJ107XG4gICAgICAgICAgICAkc2NvcGUuZm9ybWF0ID0gJHNjb3BlLmZvcm1hdHNbMF07XG4gICAgICAgICAgICAkc2NvcGUuYWx0SW5wdXRGb3JtYXRzID0gWydNIS9kIS95eXl5J107XG5cbiAgICAgICAgICAgICRzY29wZS5wb3B1cDEgPSB7XG4gICAgICAgICAgICAgICAgb3BlbmVkOiBmYWxzZVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgJHNjb3BlLnBvcHVwMiA9IHtcbiAgICAgICAgICAgICAgICBvcGVuZWQ6IGZhbHNlXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgdG9tb3Jyb3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgdG9tb3Jyb3cuc2V0RGF0ZSh0b21vcnJvdy5nZXREYXRlKCkgKyAxKTtcbiAgICAgICAgICAgIHZhciBhZnRlclRvbW9ycm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgIGFmdGVyVG9tb3Jyb3cuc2V0RGF0ZSh0b21vcnJvdy5nZXREYXRlKCkgKyAxKTtcbiAgICAgICAgICAgICRzY29wZS5ldmVudHMgPSBbe1xuICAgICAgICAgICAgICAgIGRhdGU6IHRvbW9ycm93LFxuICAgICAgICAgICAgICAgIHN0YXR1czogJ2Z1bGwnXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgZGF0ZTogYWZ0ZXJUb21vcnJvdyxcbiAgICAgICAgICAgICAgICBzdGF0dXM6ICdwYXJ0aWFsbHknXG4gICAgICAgICAgICB9XTtcblxuICAgICAgICAgICAgJHNjb3BlLmdldERheUNsYXNzID0gZnVuY3Rpb24oZGF0ZSwgbW9kZSkge1xuICAgICAgICAgICAgICAgIGlmIChtb2RlID09PSAnZGF5Jykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGF5VG9DaGVjayA9IG5ldyBEYXRlKGRhdGUpLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgJHNjb3BlLmV2ZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnREYXkgPSBuZXcgRGF0ZSgkc2NvcGUuZXZlbnRzW2ldLmRhdGUpLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF5VG9DaGVjayA9PT0gY3VycmVudERheSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkc2NvcGUuZXZlbnRzW2ldLnN0YXR1cztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuXG4gICAgfSlcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
